# Define the parameters that can be passed to the orb
parameters:
  executor:
    default: default
    type: executor
  filter:
    description: Filters static files
    type: object
    properties:
      changeset:
        type: object
        properties:
          includes:
            type: array
            items:
              type: string
          excludes:
            type: array
            items:
              type: string
    filter-branch:
      type: object
      properties:
        only:
          type: array
          items:
            type: string
          default:
            - all

  steps:
    - filters:
        branches:
          only: << parameters.filter.filter-branch.only >>
        condition:
          and:
            includes: << parameters.filter.changeset.includes || defaults.changeset_includes >>
            excludes: << parameters.filter.changeset.excludes || defaults.changeset_excludes >>

executor: << parameters.executor >>

steps:
  - attach-workspace
  # - when:
  #     filter:
  #       branches:
  #         only: << parameters.filter.filter-branch.only || defaults.branches >>
  #       condition:
  #         and:
  #           includes: << parameters.filter.changeset.includes || defaults.changeset_includes >>
  #           excludes: << parameters.filter.changeset.excludes || defaults.changeset_excludes >>
