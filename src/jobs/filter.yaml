# Define the parameters that can be passed to the orb
parameters:
  executor:
    default: default
    type: executor
  includes:
    type: string
  excludes:
    type: string
  filter-branch:
    type: string
    default: all

steps:
  - attach-workspace
  - when:
      condition:
        equal: [  parameters.filter-branch, << pipeline.git.branch >> ]
      steps:
        - filters:
            branches:
              only: << pipeline.git.branch >>
            condition:
              and:
                includes: << parameters.includes || defaults.includes >>
                excludes: '\<< parameters.excludes || defaults.excludes >>'

executor: << parameters.executor >>
